{% extends "base.html" %}

{% block content %}
  <div class="fixed-top bg-light text-center py-3">
    <h1>Messaging</h1>
  </div>


  <div class="container mt-5 pt-5">
    <div class="row mb-4">
      <div class="col text-end">
        <p class="lead">Logged in as {{ user.username }}</p>

      </div>
    </div>
    <div class="container mt-4">
        <h2>Messages</h2>

        <h4>Received</h4>
        <ul>
            {% for msg in received %}
            <li><strong>{{ msg.sender.username }}</strong>: {{ msg.content }} ({{ msg.timestamp }})</li>
            {% empty %}
            <li>No messages received.</li>
            {% endfor %}
        </ul>

        <h4>Sent</h4>
        <ul>
            {% for msg in sent %}
                <li>To <strong>{{ msg.recipient.username }}</strong>: {{ msg.content }} ({{ msg.timestamp }})</li>
                {% empty %}
                <li>No messages sent.</li>
            {% endfor %}
        </ul>
    </div>
    <div class="mt-4">
      <a href="{% url 'home_page_router' %}" class="btn btn-primary">Back to Homepage</a>
    </div>
  </div>
{% endblock %}
