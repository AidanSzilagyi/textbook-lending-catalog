{% extends "base.html" %}

{% block title %}Home Page{% endblock %}

{% block extra_css %}
<style>
  html, body {
    height: 100%;
    background: linear-gradient(to bottom right, #ffffff, #f8f9fa);
    overflow-x: hidden;
  }

  .page-content {
    display: flex;
    flex-direction: column;
    height: 100%;
  }

  .scroll-container {
    flex-grow: 1;
    overflow-y: auto;
    overflow-x: hidden;
    padding-right: 10px;
    border: 2px solid #42EAFF;
    border-radius: 10px;
    margin-top: 20px;
  }

  /* Scrollbar */
  .scroll-container::-webkit-scrollbar {
    width: 6px;
  }
  .scroll-container::-webkit-scrollbar-thumb {
    background-color: #4272FF;
    border-radius: 10px;
  }
  .scroll-container::-webkit-scrollbar-track {
    background: #e0e0e0;
  }

  h2 {
    color: #4272FF;
    font-weight: bold;
  }

  .badge {
    background-color: #FF7E42;
    color: white;
    font-size: 0.75rem;
  }

  /* Navbar Link Styling - Updated Bigger */
  .navbar-nav .nav-link {
    color: #444;
    font-weight: 600;
    font-size: 1.1rem; /* Make nav links bigger */
    padding-left: 15px;
    padding-right: 15px;
  }
  .navbar-nav .nav-link:hover {
    color: #FF7E42;
    text-decoration: underline;
  }

  /* Search Button Styling */
  .btn-primary {
    background-color: #42EAFF;
    border-color: #42EAFF;
    color: black;
    font-weight: bold;
  }
  .btn-primary:hover {
    background-color: #4272FF;
    border-color: #4272FF;
    color: white;
  }
</style>
{% endblock %}

{% block content %}
<div class="page-content">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2>Patron Home Page</h2>
    <p class="mb-0">Logged in as {{ user.email }}</p>
  </div>

  <div class="row mb-4">
    <div class="col">
      <form class="d-flex" method="GET" action="{% url 'home_page' %}">
        <input class="form-control me-2" type="search" name="q" placeholder="Search" value="{{ q }}">
        <button class="btn btn-primary" type="submit">Search</button>
      </form>
    </div>
  </div>

  <div class="scroll-container">
    <div class="list-group">
      {% for item in items %}
      <a href="{% url 'item_detail' item.uuid %}" class="list-group-item list-group-item-action">
        <div class="d-flex w-100 justify-content-between">
          <h5 class="mb-1">{{ item.title }}</h5>
          <small>{{ item.get_status_display }}</small>
        </div>
        <p class="mb-1">
          {% for tag in item.tags.all %}
            <span class="badge">{{ tag.name }}</span>
          {% endfor %}
        </p>
      </a>
      {% empty %}
      <p>No materials posted yet.</p>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
